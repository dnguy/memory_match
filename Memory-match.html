<!DOCTYPE html>
<html>

<head>
    <title>Memory Match Game</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        var my_card = null;
        var can_click = true;
        var attempts = 0;
        var successful_attempts = 0;
        var accuracy = 0.0;
        //make a global variable indicating I can click again
        function card_click(card_number){
            //if the global click variable is false, return
            if(can_click == false){
                console.log("disallow clicking")
                return;
            }
            $('#card_back'+card_number).toggleClass('card_back_selected');
            $('#card_front'+card_number).toggleClass('card_front_selected');
                if(my_card==null)
                {
                    console.log('first card was clicked, on card1, it was '+$('#card_front' + card_number).attr('data-card'));
                    //do stuff for 1st click
                    my_card = $('#card_front' + card_number).attr('data-card');
                    
                }
                else 
                {
                    attempts = attempts + 1;
                    if (attempts > 0) {
                    console.log('attempts is equal to : ' + attempts)
                    $('.attempts').html(attempts);
                    }

                    console.log("They have attempted : " + attempts + " tries.")
                    console.log('second card was clicked, it was card 1, it was '+$('#card_front' + card_number).attr('data-card'));
                    //do stuff for 2nd click
                    if(my_card == $('#card_front' + card_number).attr('data-card')){
                        console.log('they match');
                        successful_attempts += 1;
                        if (successful_attempts > 0) {
                        accuracy = (successful_attempts/attempts * 100);
                        var a = accuracy.toFixed(0);
                        $('.accuracy').html(a + '%');
                    }
                        can_click=false;
                        setTimeout(function(){
                            $('.card_front_selected').addClass('card-match-front');
                        $('.card_back_selected').addClass('card-match-back');
                            can_click=true;
                        }, 900);

                        
                    }
                    else{
                        can_click=false;
                        if (successful_attempts >= 0) {
                        accuracy = (successful_attempts/attempts * 100);
                        var a = accuracy.toFixed(0);
                        $('.accuracy').html(a + '%');
                        }
                        console.log('they do not match');
                        
                        setTimeout(function(){
                            $('.card_front_selected').removeClass('card_front_selected');
                            $('.card_back_selected').removeClass('card_back_selected');
                            can_click=true;
                        }, 1000);

                }
                    my_card = null
                }
        }
        function gameReset() {
            $('.card-match-front').removeClass('card-match-front');
            $('.card-match-back').removeClass('card-match-back');
            $('.card_front_selected').removeClass('card_front_selected');
            $('.card_back_selected').removeClass('card_back_selected');
            my_card=null
            successful_attempts = 0;
            attempts = 0;
            accuracy = 0;
            $('.attempts').html('000')
            $('.accuracy').html('100%')
        }

        </script>
</head>

<body>
    <div class="header">
        <div class="game-logo">
                <img class="pikachu-logo" src="images/pikachu-logo.png">
                <img class="charmander-logo" src="images/charmander-logo.png">
                <img class="squirtle-logo" src="images/squirtle-logo.png">
            
        </div>
        <div class="title-logo">
            <img class="pokemon-logo" src="images/title-logo.png">
        </div>
        <h1>Gotta Match Em' All</h1>
        <button class="reset" onclick="gameReset()">Reset Game</button>

    </div>
    <div class="game-info">
        <h1>Stats:</h1>
        <p>Time played:</p>
        <p >Number of tries:</p>
        <div class="attempts">000</div>
        <p>Accuracy:</p>
        <div class="accuracy">100%</div>
    </div>
    <div class="game-area">
         <div class="card_container" id="card_container1">
                    <img src="images/charizard.png" class="card card-front" id="card_front1" data-card="charizard">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back1" 
                    onclick="card_click(1)">
                       
                </div>
                <div class="card_container" id="card_container2">
                    <img src="images/charizard.png" class="card card-front" id="card_front2" data-card="charizard">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back2" 
                    onclick="card_click(2)">
                    </div>

                    <div class="card_container" id="card_container3">
                    <img src="images/pikachu.jpeg" class="card card-front" id="card_front3" data-card="pikachu">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back3" 
                    onclick="card_click(3)">
                    </div>
                     <div class="card_container" id="card_container4">
                    <img src="images/pikachu.jpeg" class="card card-front" id="card_front4" data-card="pikachu">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back4" 
                    onclick="card_click(4)">
                    </div>
                    <div class="card_container" id="card_container5">
                    <img src="images/snorlax.jpg" class="card card-front" id="card_front5" data-card="snorlax">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back5" 
                    onclick="card_click(5)">
                    </div>
                    <div class="card_container" id="card_container6">
                    <img src="images/snorlax.jpg" class="card card-front" id="card_front6" data-card="snorlax">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back6" 
                    onclick="card_click(6)">
                    </div>
                    <div class="card_container" id="card_container7">
                    <img src="images/mewtwo.png" class="card card-front" id="card_front7" data-card="mewtwo">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back7" 
                    onclick="card_click(7)">
                    </div>
                    <div class="card_container" id="card_container8">
                    <img src="images/mewtwo.png" class="card card-front" id="card_front8" data-card="mewtwo">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back8" 
                    onclick="card_click(8)">
                    </div>
                    <div class="card_container" id="card_container9">
                    <img src="images/venusaur.jpg" class="card card-front" id="card_front9" data-card="venusaur">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back9" 
                    onclick="card_click(9)">
                    </div>
                    <div class="card_container" id="card_containe10">
                    <img src="images/venusaur.jpg" class="card card-front" id="card_front10" data-card="venusaur">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back10" 
                    onclick="card_click(10)">
                    </div>
                    <div class="card_container" id="card_container11">
                    <img src="images/blastoise.jpeg" class="card card-front" id="card_front11" data-card="blastoise">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back11" 
                    onclick="card_click(11)">
                    </div>
                    <div class="card_container" id="card_container12">
                    <img src="images/blastoise.jpeg" class="card card-front" id="card_front12" data-card="blastoise">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back12" 
                    onclick="card_click(12)">
                    </div>
                    <div class="card_container" id="card_container13">
                    <img src="images/meowth.jpeg" class="card card-front" id="card_front13" data-card="meowth">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back13" 
                    onclick="card_click(13)">
                    </div>
                    <div class="card_container" id="card_container14">
                    <img src="images/meowth.jpeg" class="card card-front" id="card_front14" data-card="meowth">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back14" 
                    onclick="card_click(14)">
                    </div>
                    <div class="card_container" id="card_container15">
                    <img src="images/jigglypuff.jpeg" class="card card-front" id="card_front15" data-card="jigglypuff">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back15" 
                    onclick="card_click(15)">
                    </div>
                    <div class="card_container" id="card_container16">
                    <img src="images/jigglypuff.jpeg" class="card card-front" id="card_front16" data-card="jigglypuff">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back16" 
                    onclick="card_click(16)">
                    </div>
                    <div class="card_container" id="card_container17">
                    <img src="images/zapdos.jpg" class="card card-front" id="card_front17" data-card="zapdos">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back17" 
                    onclick="card_click(17)">
                    </div>
                    <div class="card_container" id="card_container18">
                    <img src="images/zapdos.jpg" class="card card-front" id="card_front18" data-card="zapdos">
                    <img src="images/back-card.jpeg" class="card card-back" id="card_back18" 
                    onclick="card_click(18)">
                    </div>
                    </div>
        </div>
    </div>
</body>

</html>
